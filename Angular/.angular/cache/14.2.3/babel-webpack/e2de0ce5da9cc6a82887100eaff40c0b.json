{"ast":null,"code":"import { trigger, transition, style, animate } from '@angular/animations';\nimport { Validators } from '@angular/forms';\nimport { Subject, takeUntil, timer } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../general.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../loading/loading.component\";\n\nfunction ContactsectionComponent_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Have a question or just want to say hi?\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@inOutMessageAnimation\", undefined);\n  }\n}\n\nfunction ContactsectionComponent_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"Email successfully sent!\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@inOutMessageAnimation\", undefined);\n  }\n}\n\nfunction ContactsectionComponent_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"An error occurred. Please try again or manually send an email to: imura.eisaku@gmail.com\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@inOutMessageAnimation\", undefined);\n  }\n}\n\nfunction ContactsectionComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Please enter a name\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@inOutPaneAnimation\", undefined);\n  }\n}\n\nfunction ContactsectionComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Please enter a valid email\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@inOutPaneAnimation\", undefined);\n  }\n}\n\nfunction ContactsectionComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Please enter a message\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"@inOutPaneAnimation\", undefined);\n  }\n}\n\nfunction ContactsectionComponent_button_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵtext(1, \"Submit\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"disabled\", !ctx_r6.formContact.valid)(\"ngClass\", ctx_r6.isDarkMode ? \"dark-mode-text dark-mode-button-border\" : \"light-mode-text light-mode-button-border\");\n  }\n}\n\nfunction ContactsectionComponent_app_loading_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading\");\n  }\n}\n\nexport let ContactsectionComponent = /*#__PURE__*/(() => {\n  class ContactsectionComponent {\n    constructor(generalService, fb) {\n      this.generalService = generalService;\n      this.fb = fb;\n      this.unsubOnDestroy = new Subject();\n      this.isSendingEmail = false;\n      this.successEmailResponse = false;\n      this.failEmailResponse = false;\n      this.formContact = this.fb.group({\n        formName: [\"\", Validators.required],\n        formEmail: [\"\", [Validators.required, Validators.email]],\n        formMessage: [\"\", [Validators.required, Validators.minLength(10)]]\n      });\n    }\n\n    ngOnInit() {\n      this.isDarkMode = this.generalService.GetDarkModeStatus();\n      this.generalService.subjectToggleDarkMode.pipe(takeUntil(this.unsubOnDestroy)).subscribe({\n        next: () => {\n          this.isDarkMode = !this.isDarkMode;\n        }\n      });\n    }\n\n    ngOnDestroy() {\n      this.unsubOnDestroy.next(true);\n      this.unsubOnDestroy.complete();\n    }\n\n    SubmitContact() {\n      this.formContact.disable();\n      this.isSendingEmail = true;\n      this.generalService.SendEmail(JSON.stringify(this.formContact.value)).subscribe({\n        next: response => {\n          this.successEmailResponse = true;\n          this.isSendingEmail = false;\n          this.formContact.reset();\n          this.formContact.enable();\n        },\n        error: err => {\n          this.failEmailResponse = true;\n          this.isSendingEmail = false;\n          this.formContact.enable();\n          this.ResetMessage();\n        },\n        complete: () => {\n          this.ResetMessage();\n        }\n      });\n    }\n\n    ResetMessage() {\n      timer(10000).subscribe({\n        next: () => {\n          this.failEmailResponse = false;\n          this.successEmailResponse = false;\n        }\n      });\n    }\n\n  }\n\n  ContactsectionComponent.ɵfac = function ContactsectionComponent_Factory(t) {\n    return new (t || ContactsectionComponent)(i0.ɵɵdirectiveInject(i1.GeneralService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n  };\n\n  ContactsectionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ContactsectionComponent,\n    selectors: [[\"app-contactsection\"]],\n    decls: 22,\n    vars: 14,\n    consts: [[\"id\", \"contact\"], [3, \"ngClass\"], [1, \"submit-message\", 3, \"ngClass\"], [4, \"ngIf\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"form-section\"], [\"id\", \"name\", \"type\", \"text\", \"formControlName\", \"formName\", \"placeholder\", \"Name\", \"autocomplete\", \"off\", 3, \"ngClass\"], [1, \"form-error-text\"], [\"id\", \"email\", \"type\", \"text\", \"formControlName\", \"formEmail\", \"placeholder\", \"Email\", \"autocomplete\", \"off\", 3, \"ngClass\"], [\"name\", \"\", \"id\", \"message\", \"formControlName\", \"formMessage\", \"placeholder\", \"Message\", 3, \"ngClass\"], [\"type\", \"submit\", 3, \"disabled\", \"ngClass\", 4, \"ngIf\"], [\"type\", \"submit\", 3, \"disabled\", \"ngClass\"]],\n    template: function ContactsectionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n        i0.ɵɵtext(2, \"Contact\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵtemplate(4, ContactsectionComponent_p_4_Template, 2, 1, \"p\", 3);\n        i0.ɵɵtemplate(5, ContactsectionComponent_p_5_Template, 2, 1, \"p\", 3);\n        i0.ɵɵtemplate(6, ContactsectionComponent_p_6_Template, 2, 1, \"p\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"form\", 4);\n        i0.ɵɵlistener(\"ngSubmit\", function ContactsectionComponent_Template_form_ngSubmit_7_listener() {\n          return ctx.SubmitContact();\n        });\n        i0.ɵɵelementStart(8, \"div\", 5);\n        i0.ɵɵelement(9, \"input\", 6);\n        i0.ɵɵelementStart(10, \"div\", 7);\n        i0.ɵɵtemplate(11, ContactsectionComponent_div_11_Template, 2, 1, \"div\", 3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 5);\n        i0.ɵɵelement(13, \"input\", 8);\n        i0.ɵɵelementStart(14, \"div\", 7);\n        i0.ɵɵtemplate(15, ContactsectionComponent_div_15_Template, 2, 1, \"div\", 3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 5);\n        i0.ɵɵelement(17, \"textarea\", 9);\n        i0.ɵɵelementStart(18, \"div\", 7);\n        i0.ɵɵtemplate(19, ContactsectionComponent_div_19_Template, 2, 1, \"div\", 3);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(20, ContactsectionComponent_button_20_Template, 2, 2, \"button\", 10);\n        i0.ɵɵtemplate(21, ContactsectionComponent_app_loading_21_Template, 1, 0, \"app-loading\", 3);\n        i0.ɵɵelementEnd()();\n      }\n\n      if (rf & 2) {\n        let tmp_7_0;\n        let tmp_9_0;\n        let tmp_11_0;\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", ctx.isDarkMode ? \"dark-mode-text\" : \"light-mode-text\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", ctx.isDarkMode ? \"dark-mode-text\" : \"light-mode-text\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.successEmailResponse && !ctx.failEmailResponse);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.successEmailResponse);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.failEmailResponse);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.formContact);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", ctx.isDarkMode ? \"dark-mode-button-border\" : \"light-mode-button-border\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_7_0 = ctx.formContact.get(\"formName\")) == null ? null : tmp_7_0.invalid) && ((tmp_7_0 = ctx.formContact.get(\"formName\")) == null ? null : tmp_7_0.touched));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", ctx.isDarkMode ? \"dark-mode-button-border\" : \"light-mode-button-border\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_9_0 = ctx.formContact.get(\"formEmail\")) == null ? null : tmp_9_0.invalid) && ((tmp_9_0 = ctx.formContact.get(\"formEmail\")) == null ? null : tmp_9_0.touched));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngClass\", ctx.isDarkMode ? \"dark-mode-button-border\" : \"light-mode-button-border\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ((tmp_11_0 = ctx.formContact.get(\"formMessage\")) == null ? null : tmp_11_0.invalid) && ((tmp_11_0 = ctx.formContact.get(\"formMessage\")) == null ? null : tmp_11_0.touched));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isSendingEmail);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isSendingEmail);\n      }\n    },\n    dependencies: [i3.NgClass, i3.NgIf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName, i4.LoadingComponent],\n    styles: [\"#contact[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;min-height:100vh}h1[_ngcontent-%COMP%]{font-size:5rem;position:relative}h1[_ngcontent-%COMP%]:before{content:\\\"\\\";display:block;position:absolute;width:40%;height:5%;background-color:#8f1d21;left:-50%;top:50%}h1[_ngcontent-%COMP%]:after{content:\\\"\\\";display:block;position:absolute;width:40%;height:5%;background-color:#8f1d21;right:-50%;top:50%}p[_ngcontent-%COMP%]{font-size:2rem}.submit-message[_ngcontent-%COMP%]{height:2.1rem}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.form-section[_ngcontent-%COMP%]{margin:2rem 0}input[_ngcontent-%COMP%]{font-size:2rem;padding:.5em;width:clamp(15em,1em + 40vw,30em);border-radius:.3em;transition:1s cubic-bezier(.23,1,.32,1)}input.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#8f1d21;border-style:solid}.form-error-text[_ngcontent-%COMP%]{color:#8f1d21;font-size:2rem;height:.1em}#message[_ngcontent-%COMP%]{font-family:Roboto;font-size:2rem;resize:vertical;padding:.5em;width:clamp(15em,1em + 40vw,30em);max-height:20em;min-height:5em;height:10em;border-radius:.3em;transition:1s cubic-bezier(.23,1,.32,1)}#message.ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#8f1d21;border-style:solid}button[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;background-color:transparent;border-radius:.2em;padding:.2em 1em;margin-top:2rem;cursor:pointer;font-size:2rem;font-weight:700;transition:.3s cubic-bezier(.23,1,.32,1);-webkit-user-select:none;user-select:none}button[_ngcontent-%COMP%]:hover{background-color:#467ca740;border:.1em solid #467ca7}button[_ngcontent-%COMP%]:disabled{background-color:#8f1d2140;border:.1em solid #8F1D21;cursor:not-allowed}\"],\n    data: {\n      animation: [trigger(\"inOutPaneAnimation\", [transition(\":enter\", [style({\n        opacity: 0,\n        transform: \"translateY(100%)\"\n      }), animate(\"750ms ease-in-out\", style({\n        opacity: 1,\n        transform: \"translateY(0)\"\n      }))]), transition(\":leave\", [style({\n        opacity: 1,\n        transform: \"translateY(0)\"\n      }), animate(\"600ms ease-in-out\", style({\n        opacity: 0,\n        transform: \"translateY(100%)\"\n      }))])]), trigger(\"inOutMessageAnimation\", [transition(\":enter\", [style({\n        opacity: 0\n      }), animate(\"500ms ease-in-out\", style({\n        opacity: 1\n      }))])])]\n    }\n  });\n  return ContactsectionComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}